ZML.TweenEvent=function(){function b(){}b.prototype=new ZML.Event("TweenEvent");b.prototype.construct=function(b){this.data=b};return ZML.FactoryMap.TWEEN=b}();
ZML.Tween=function(){function b(c){function f(){ZML.BroadcastCenter.sendEvent($(j.data).children("onStart").prop("outerHTML"))}function l(){ZML.BroadcastCenter.sendEvent($(j.data).children("onUpdate").prop("outerHTML"))}function h(){ZML.BroadcastCenter.sendEvent($(j.data).children("onComplete").prop("outerHTML"))}this.data=c;this.tweenlite=null;var j=this,d=$(this.data).attr("duration"),m=$("#"+$(this.data).attr("target")),e=$(this.data).attr("action"),c=$(this.data).attr("id");if(e==void 0)e="to";
else if(e=="kill"){d=this.getTweenById(c);d!=void 0&&(d.tweenlite.kill(),delete b.list[c]);return}else if(e=="pause"){d=this.getTweenById(c);d!=void 0&&d.tweenlite.pause();return}else if(e=="play"){d=this.getTweenById(c);d!=void 0&&d.tweenlite.play();return}else if(e=="restart"){d=this.getTweenById(c);d!=void 0&&d.tweenlite.restart();return}else if(e=="resume"){d=this.getTweenById(c);d!=void 0&&d.tweenlite.resume();return}else if(e=="reverse"){d=this.getTweenById(c);d!=void 0&&d.tweenlite.reverse();
return}else e=="killTweensOf"&&TweenLite.killTweensOf(m);for(var a={},k=this.data.attributes,i=k.length,g=0;g<i;g++)a[k[g].nodeName]=k[g].nodeValue;if(a.x!=void 0)a.left=a.x,delete a.x;if(a.y!=void 0)a.top=a.y,delete a.y;a.id!=void 0&&delete a.id;a.target!=void 0&&delete a.target;a.action!=void 0&&delete a.action;a.duration!=void 0&&delete a.duration;if(a.scalex!=void 0)a.scaleX=a.scalex,delete a.scalex;if(a.scaley!=void 0)a.scaleY=a.scaley,delete a.scaley;if(a.rotationx!=void 0)a.rotationX=a.rotationx,
delete a.rotationx;if(a.rotationy!=void 0)a.rotationY=a.rotationy,delete a.rotationy;if(a.autoalpha!=void 0)a.autoAlpha=a.autoalpha,delete a.autoalpha;if(a.backgroundcolor!=void 0)a.backgroundColor=a.backgroundcolor,delete a.backgroundcolor;if(e!="fromTo")a.onStart=f,a.onUpdate=l,a.onComplete=h,this.tweenlite=TweenLite[e](m,d,a);else{k={};i={};i.onStart=f;i.onUpdate=l;i.onComplete=h;for(g in a){var n=a[g].split(",");k[g]=n[0];i[g]=n[1]}this.tweenlite=TweenLite[e](m,d,k,i)}c!=void 0&&(b.list[c]=this)}
b.list={};b.prototype.getTweenById=function(c){return b.list[c]};b.Delay=function(c){function f(){ZML.BroadcastCenter.sendEvent(c.outerHTML)}var l=$(c).attr("time"),h=$(c).attr("id"),j=$(c).attr("action");l!=void 0?TweenLite.delayedCall(l,f):j!=void 0&&j=="kill"&&(TweenLite.killDelayedCallsTo(b.Delay.list[h]),delete b.Delay.list[h]);h!=void 0&&(b.Delay.list[h]=f)};b.Delay.list={};b.DelayEvent=function(){};b.DelayEvent.prototype=new ZML.Event("DelayEvent");b.DelayEvent.prototype.construct=function(b){this.data=
b};b.init=function(){CSSPlugin.defaultTransformPerspective=500;ZML.BroadcastCenter.addEventListener(ZML.TweenEvent.prototype.type,function(c,f){new b(f)});ZML.BroadcastCenter.addEventListener(b.DelayEvent.prototype.type,function(c,f){new b.Delay(f)})};ZML.FactoryMap.DELAY=b.DelayEvent;b.init();return b}();
