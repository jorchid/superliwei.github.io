Firefly.EChartsContainerDescriptor=function(a){Firefly.ComponentBaseDescriptor.call(this,a);var c=this;this.title="ECharts\u5bb9\u5668";var d=this.createChildren,d=this.createChildren;this.createChildren=function(b){d.call(this,b);var a=Firefly.FormViewManager.createTextAreaView("\u914d\u7f6eJS");a.appendTo(b.form);this.optionInput=a.find("textarea").eq(0);this.optionInput.val(this.getOption());a=Firefly.FormViewManager.createCheckBoxView("\u6e05\u9664");a.appendTo(b.form);this.clearCheckBox=a.find(".ui.checkbox").eq(0);
this.clearCheckBox.checkbox(this.getClearEnable()?"set checked":"set unchecked");this.optionInput.change(function(){var a=c.getOption(),b=c.optionInput.val();Firefly.HistoryManager.addPropertiesEditAction(a,b,function(a){c.optionInput.val(a);c.setOption(a)})});this.clearCheckBox.checkbox({onChange:function(){var a=c.getClearEnable(),b=c.clearCheckBox.checkbox("is checked");Firefly.HistoryManager.addPropertiesEditAction(a,b,function(a){c.setClearEnable(a);c.clearCheckBox.checkbox(a?"set checked":"set unchecked")})}})};
this.getOption=function(){return a.optionJsStr};this.setOption=function(b){a.setOption(b);this.optionInput.val(this.getOption())};this.getClearEnable=function(){return a.clearEnable};this.setClearEnable=function(b){a.clearEnable=b;this.setOption(this.getOption())}};
