Firefly.ParagraphDescriptor=function(b){Firefly.ComponentBaseDescriptor.call(this,b);this.title="\u591a\u884c\u6587\u672c";var c=new Firefly.DescriptorDataModel(this);c.add({type:"textArea",name:"text",label:"HTML\u6587\u672c"});c.add({type:"dropdown",name:"fontFamily",label:"\u5b57\u4f53",data:Firefly.FontManager.getFontMap()});c.add({type:"input",name:"fontSize",label:"\u5b57\u4f53\u5927\u5c0f"});c.add({type:"input",name:"letterSpacing",label:"\u5b57\u6bcd\u95f4\u9694"});c.add({type:"input",name:"lineHeight",
label:"\u884c\u8ddd",rightLabel:"em"});c.add({type:"color",name:"fontColor",label:"\u6587\u5b57\u989c\u8272"});c.add({type:"fontStyle",name:"fontStyle",label:"\u6587\u5b57\u98ce\u683c"});c.add({type:"hAlign",name:"hAlign",label:"\u6c34\u5e73\u5bf9\u9f50"});c.add({type:"dropdown",name:"overflow",label:"\u6587\u672c\u6ea2\u51fa",data:[{value:"auto",label:"\u81ea\u52a8"},{value:"hidden",label:"\u9690\u85cf"}]});c.add({type:"checkBox",name:"showBorder",label:"\u663e\u793a\u8fb9\u6846"});this.dataModels.push(c);
this.getText=function(){return b.textView.html()};this.setText=function(a){b.setText(a)};this.getFontFamily=function(){var a=b.textView.css("font-family"),a=a.replace(/'/g,"");return Firefly.FontManager.fontNames.indexOf(a)};this.setFontFamily=function(a){b.textView.css("font-family",Firefly.FontManager.fontNames[a])};this.getFontSize=function(){return parseInt(b.textView.css("font-size"))};this.setFontSize=function(a){b.textView.css("font-size",a+"px");this.setLineHeight(c.itemControllers[4].input.val())};
this.getLetterSpacing=function(){var a=b.textView.css("letter-spacing");return parseInt(a)};this.setLetterSpacing=function(a){b.textView.css("letter-spacing",a+"px")};this.getLineHeight=function(){var a=parseInt(b.textView.css("line-height"))/this.getFontSize();return a=Math.round(a*100)/100};this.setLineHeight=function(a){b.textView.css("line-height",a+"em")};this.getFontColor=function(){return b.textView.css("color")};this.setFontColor=function(a){b.textView.css("color",a)};this.getFontStyle=function(){var a=
b.textView.css("font-weight"),c=b.textView.css("font-style"),e=b.textView.css("text-decoration"),d=[];d.push(a<=400?0:1);d.push(c=="italic"?1:0);d.push(e.indexOf("underline")>-1?1:0);d.push(e.indexOf("line-through")>-1?1:0);return d.join(",")};this.setFontStyle=function(a){a=a.split(",");b.textView.css("font-weight",a[0]=="1"?700:400);b.textView.css("font-style",a[1]=="1"?"italic":"normal");a[2]=="1"&&a[3]=="1"?b.textView.css("text-decoration","underline line-through"):a[2]=="1"?b.textView.css("text-decoration",
"underline"):a[3]=="1"?b.textView.css("text-decoration","line-through"):b.textView.css("text-decoration","none")};this.getHAlign=function(){return b.textView.css("text-align")};this.setHAlign=function(a){b.textView.css("text-align",a)};this.getOverflow=function(){return b.view.css("overflow")};this.setOverflow=function(a){b.view.css("overflow",a)};this.getShowBorder=function(){return b.view.css("border").indexOf("none")>-1?!1:!0};this.setShowBorder=function(a){b.view.css("border",a?"solid 1px":"none")}};
