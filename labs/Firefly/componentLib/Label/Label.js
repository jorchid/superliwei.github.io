$(document).bind(Firefly.Event.UnHandledCommand,function(c,b){if(b.cmd=="create"&&b.type=="Label"){var a=new Firefly.Label;Firefly.editor.getEditorCanvas().add(a);a.moveTo(b.x,b.y);a.setText("Label")}});
Firefly.Label=function(){Firefly.ComponentBase.call(this);this.view.css("overflow","hidden");this.view.attr("ff-autoSize","true");this.lockWidth=!1;this.lockHeight=!0;this.descriptor=new Firefly.LabelDescriptor(this);this.labelView=$("<p>",{style:"position:absolute;cursor:default;font-size:20px;font-family:Arial;white-space:nowrap;"});this.labelView.appendTo(this.view);this.setFontFamily=function(a){this.labelView.css("font-family",a);this.getAutoSize()&&this.view.outerWidth(this.labelView.outerWidth());
this.view.outerHeight(this.labelView.outerHeight());this.refresh()};this.setFontSize=function(a){this.labelView.css("font-size",a+"px");this.getAutoSize()&&this.view.outerWidth(this.labelView.outerWidth());this.view.outerHeight(this.labelView.outerHeight());this.refresh()};this.setText=function(a){this.labelView.text(a);this.getAutoSize()&&this.view.outerWidth(this.labelView.outerWidth());this.view.outerHeight(this.labelView.outerHeight());this.refresh()};this.getHAlign=function(){var a=this.view.attr("ff-hAlign");
return a==void 0?"left":a};this.setHAlign=function(a){this.view.attr("ff-hAlign",a);this.refresh()};var c=this.setAutoSize;this.setAutoSize=function(a){a&&(this.view.outerWidth(this.labelView.outerWidth()),this.view.outerHeight(this.labelView.outerHeight()),this.refresh());c.call(this,a)};var b=this.resizeTo;this.resizeTo=function(a,c){this.refresh();b.call(this,a,c)};this.refresh=function(){switch(this.getHAlign()){case "left":this.labelView.css("left",0);break;case "center":this.labelView.css("left",
(this.view.outerWidth()-this.labelView.outerWidth())*0.5);break;case "right":this.labelView.css("left",this.view.outerWidth()-this.labelView.outerWidth())}};this.clone=function(){var a=new Firefly.Label;a.view=this.view.clone();a.labelView=a.view.find("p").eq(0);return a};this.toXmlNode=function(){var a=this.view.clone();a.attr("ff-type","Label");return a}};Firefly.Label.create=function(c){var b=new Firefly.Label;b.view=c;b.labelView=b.view.find("p").eq(0);return b};
